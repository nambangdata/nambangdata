(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b06b7cd4"],{"1bb0":function(e,t,a){"use strict";var s=a("5b63"),i=a.n(s);i.a},"21a6":function(e,t,a){(function(a){var s,i,n;(function(a,o){i=[],s=o,n="function"===typeof s?s.apply(t,i):s,void 0===n||(e.exports=n)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){d(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,a){var r=o.URL||o.webkitURL,d=document.createElement("a");t=t||e.name||"download",d.download=t,d.rel="noopener","string"==typeof e?(d.href=e,d.origin===location.origin?n(d):i(d.href)?s(e,t,a):n(d,d.target="_blank")):(d.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(d.href)}),4e4),setTimeout((function(){n(d)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),a);else if(i(e))s(e,a,o);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){n(r)}))}}:function(e,t,a,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var n="application/octet-stream"===e.type,d=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&d||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,m=u.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});o.saveAs=d.saveAs=d,e.exports=d}))}).call(this,a("c8ba"))},"5b62":function(t,a,s){"use strict";s.r(a);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Dashboard",[a("div",[a("div",{staticClass:"mb-4 text-white"},[a("h5",[e._v("Izin")]),a("small",[e._v("Izin")])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"mt-2",attrs:{id:"table-wrapper"}},[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-success",on:{click:e.showAdd}},[a("i",{staticClass:"fas fa-plus"}),e._v(" Tambah Dokumen")])]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-md-8"}),a("div",{staticClass:"col-md-4 text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:e.showFilter}},[a("i",{staticClass:"fas fa-search"}),e._v(" Filter Izin ")])])]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table",staticStyle:{width:"auto"}},[a("thead",[a("tr",[a("th",[e._v("Kode Izin")]),a("th",[e._v("Nama Izin")]),a("th",[e._v("Deskripsi")]),a("th",[e._v("Tanggal Dikeluarkan")]),a("th",[e._v("Tanggal Berakhir")]),a("th",[e._v("Masa Berlaku")]),a("th",[e._v("Instansi")]),a("th",[e._v("Sub Instansi")]),a("th",[e._v("Nomor Persetujuan")]),a("th",[e._v("Referensi Kode Izin")]),a("th",[e._v("Status")]),a("th",[e._v("Pembaharuan Kode Izin")]),a("th",[e._v("Dokumen")]),a("th",[e._v("Kewajiban")])])]),a("tbody",[0==e.datas.length?a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"14"}},[e._v("Belum Ada Izin")])]):e._l(e.datas,(function(t,s){return a("tr",{key:s},[a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.showEdit(t)}}},[e._v(e._s(t.number))])]),a("td",[e._v(e._s(t.labeled_name))]),a("td",[e._v(e._s(t.description))]),a("td",[e._v(e._s(e.formatDate(t.issuedDate)))]),a("td",[e._v(e._s(e.formatDate(t.validDate)))]),a("td",[e._v(e._s(t.validPeriod))]),a("td",[e._v(e._s(t.labeled_instance))]),a("td",[e._v(e._s(t.labeled_sub_instance))]),a("td",[e._v(e._s(t.approvalNumber))]),a("td",[e._v(e._s(t.labeled_reference))]),a("td",[e._v(e._s(t.labeled_status))]),a("td",[e._v(e._s(t.labeled_updatePermitCodeId))]),a("td",[a("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{target:"_blank",to:"/permit/attachment/"+t.id}},[e._v("Dokumen")])],1),a("td",[a("div",{staticStyle:{width:"150px !important"}},[a("router-link",{staticClass:"btn btn-sm btn-success mr-1",attrs:{target:"_blank",to:"/obligation/"+t.id+"/single"}},[e._v("Kewajiban")])],1)])])}))],2)])])])])])]),a("PermitForm",{attrs:{model:e.model,state:e.state,instances:e.instances,validPeriod:e.validPeriod,documents:e.documents,categories:e.categories,documentTypes:e.documentTypes,statuses:e.statuses,users:e.users,departments:e.departments,documentHardcopies:e.documentHardcopies,reportSchedules:e.reportSchedules,onSave:e.onSave,documentPic:e.documentPic,documentDic:e.documentDic,hardcopyLocations:e.hardcopyLocations,addPIC:e.addPIC,addHardcopy:e.addHardcopy,addDept:e.addDept,addSchedule:e.addSchedule,selectedUser:e.selectedUser,schedule:e.schedule,selectedDepartment:e.selectedDepartment,selectedHardcopy:e.selectedHardcopy,removeHardcopy:e.removeHardcopy,removeDept:e.removeDept,removeSchedule:e.removeSchedule,removePIC:e.removePIC,countValidDate:e.countValidDate,codeNames:e.codeNames,getDocumentPermitName:e.getDocumentPermitName,lastCode:e.lastCode,permitNames:e.permitNames,subInstances:e.subInstances,checkDuplicate:e.checkDuplicate,onDelete:e.onDelete}}),a("PermitFilter",{attrs:{codeNames:e.codeNames,getDocumentPermitName:e.getDocumentPermitName,permitNames:e.permitNames,state:e.state,documents:e.documents,subInstances:e.subInstances,instances:e.instances,getDocuments:e.getDocuments}})],1)},n=[],o=(s("a4d3"),s("e01a"),s("4160"),s("caad"),s("a434"),s("b0c0"),s("ac1f"),s("2532"),s("5319"),s("1276"),s("159b"),s("96cf"),s("1da1")),r=s("cc57"),d=s("3686"),l=s("c6db"),c=s("424e"),u=s("c1df"),m=s.n(u),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"modalAdd",tabindex:"-1",role:"dialog","aria-labelledby":"modalStatus","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nama Kode")]),a("v-select",{staticClass:"form-control",attrs:{options:e.codeNames,reduce:function(e){return e.value},disabled:!e.state.canEdit},on:{input:e.getDocumentPermitName},model:{value:e.model.codeId,callback:function(t){e.$set(e.model,"codeId",t)},expression:"model.codeId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nama Izin")]),a("v-select",{staticClass:"form-control",attrs:{disabled:!e.state.canEdit,options:e.permitNames,reduce:function(e){return e.value},readonly:!e.state.codeSelected},model:{value:e.model.permitId,callback:function(t){e.$set(e.model,"permitId",t)},expression:"model.permitId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[null==e.lastCode?a("label",[e._v("Nomor Kode")]):a("label",[e._v("Nomor Kode (kode terakhir :"),a("span",{staticClass:"text-primary"},[e._v(e._s(e.lastCode))]),e._v(")")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.documentCode,expression:"model.documentCode"}],class:"form-control "+(null!=e.model.documentCode&&0==e.state.codeAvailable?"is-invalid":""),attrs:{type:"text",disabled:!e.state.canEdit,readonly:!e.state.codeSelected},domProps:{value:e.model.documentCode},on:{keyup:e.checkDuplicate,input:function(t){t.target.composing||e.$set(e.model,"documentCode",t.target.value)}}}),null!=e.model.documentCode&&0==e.state.codeAvailable?a("p",{staticClass:"text-danger"},[e._v("Kode sudah pernah dipakai")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nomor Persetujuan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.approvalNumber,expression:"model.approvalNumber"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit,type:"text"},domProps:{value:e.model.approvalNumber},on:{input:function(t){t.target.composing||e.$set(e.model,"approvalNumber",t.target.value)}}})])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Deskripsi")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.description,expression:"model.description"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit},domProps:{value:e.model.description},on:{input:function(t){t.target.composing||e.$set(e.model,"description",t.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Tanggal Dikeluarkan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.issuedDate,expression:"model.issuedDate"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit,type:"date"},domProps:{value:e.model.issuedDate},on:{input:function(t){t.target.composing||e.$set(e.model,"issuedDate",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Tanggal Berakhir")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.validDate,expression:"model.validDate"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit,type:"date"},domProps:{value:e.model.validDate},on:{change:function(t){return e.countValidDate("validDate")},input:function(t){t.target.composing||e.$set(e.model,"validDate",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Masa Berlaku")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validPeriod.time,expression:"validPeriod.time"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit,type:"number",step:"1"},domProps:{value:e.validPeriod.time},on:{keyup:function(t){return e.countValidDate("validPeriod")},change:function(t){return e.countValidDate("validPeriod")},input:function(t){t.target.composing||e.$set(e.validPeriod,"time",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.validPeriod.timeUnit,expression:"validPeriod.timeUnit"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.validPeriod,"timeUnit",t.target.multiple?a:a[0])},function(t){return e.countValidDate("validPeriod")}]}},[a("option",{attrs:{value:"Hari"}},[e._v("Hari")]),a("option",{attrs:{value:"Bulan"}},[e._v("Bulan")]),a("option",{attrs:{value:"Tahun"}},[e._v("Tahun")])])])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Referensi Kode Izin")]),a("v-select",{staticClass:"form-control",attrs:{options:e.documents,reduce:function(e){return e.value},disabled:!e.state.canEdit},model:{value:e.model.referenceDocumentId,callback:function(t){e.$set(e.model,"referenceDocumentId",t)},expression:"model.referenceDocumentId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Instansi")]),a("v-select",{staticClass:"form-control",attrs:{options:e.instances,reduce:function(e){return e.value},disabled:!e.state.canEdit},model:{value:e.model.issuerInstanceId,callback:function(t){e.$set(e.model,"issuerInstanceId",t)},expression:"model.issuerInstanceId"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Sub Instansi")]),a("v-select",{staticClass:"form-control",attrs:{options:e.subInstances,reduce:function(e){return e.value},disabled:!e.state.canEdit},model:{value:e.model.approverInstanceId,callback:function(t){e.$set(e.model,"approverInstanceId",t)},expression:"model.approverInstanceId"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Pembaharuan Kode Izin")]),a("v-select",{staticClass:"form-control",attrs:{options:e.documents,reduce:function(e){return e.value},disabled:!e.state.canEdit},model:{value:e.model.updatePermitCodeId,callback:function(t){e.$set(e.model,"updatePermitCodeId",t)},expression:"model.updatePermitCodeId"}})],1)]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Penanggung Jawab")]),e._l(e.documentPic,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-md-10"},[a("h4",[e._v(e._s(e.selectedUser(e.users,t)))])]),a("div",{staticClass:"col-md-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.removePIC(s)}}},[a("i",{staticClass:"fas fa-times-circle"})])])])])})),a("div",{staticClass:"btn-group"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-success dropdown-toggle btn-block",attrs:{id:"picDrops",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Tambah PIC ")]),a("div",{staticClass:"dropdown-menu",staticStyle:{right:"30px !important"}},e._l(e.users,(function(t,s){return a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.addPIC(t.value)}}},[e._v(e._s(t.label))])})),0)])],2),a("div",{staticClass:"form-group"},[a("label",[e._v("Departement")]),e._l(e.documentDic,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-md-10"},[a("h4",[e._v(e._s(e.selectedDepartment(e.departments,t)))])]),a("div",{staticClass:"col-md-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.removeDept(s)}}},[a("i",{staticClass:"fas fa-times-circle"})])])])])})),a("div",{staticClass:"btn-group"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-success dropdown-toggle btn-block",attrs:{id:"departmentDrops",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Tambah Departemen ")]),a("div",{staticClass:"dropdown-menu",staticStyle:{right:"30px !important"}},e._l(e.departments,(function(t,s){return a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.addDept(t.value)}}},[e._v(e._s(t.label))])})),0)])],2),a("div",{staticClass:"form-group"},[a("label",[e._v("Lokasi Hardcopy")]),e._l(e.documentHardcopies,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-md-10"},[a("h4",[e._v(e._s(e.selectedHardcopy(e.hardcopyLocations,t)))])]),a("div",{staticClass:"col-md-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.removeHardcopy(s)}}},[a("i",{staticClass:"fas fa-times-circle"})])])])])})),a("div",{staticClass:"btn-group"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-success dropdown-toggle btn-block",attrs:{id:"locationDrops",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Tambah Lokasi ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"dropdown-menu",staticStyle:{right:"30px !important"}},e._l(e.hardcopyLocations,(function(t,s){return a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.addHardcopy(t.value)}}},[e._v(e._s(t.label))])})),0)])],2),a("div",{staticClass:"form-group"},[a("label",[e._v("Jadwal Lapor")]),e._l(e.reportSchedules,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-md-10"},[a("h4",[e._v(e._s(t.time)+" "+e._s(t.timeUnit))])]),a("div",{staticClass:"col-md-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.removeSchedule(s)}}},[a("i",{staticClass:"fas fa-times-circle"})])])])])})),e.state.canEdit&&!e.state.schedule?a("button",{staticClass:"btn btn-success btn-block",on:{click:function(t){e.state.schedule=!0}}},[e._v("Tambah Jadwal")]):e._e(),e.state.schedule?a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule.time,expression:"schedule.time"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit,type:"number",step:"1"},domProps:{value:e.schedule.time},on:{input:function(t){t.target.composing||e.$set(e.schedule,"time",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.schedule.timeUnit,expression:"schedule.timeUnit"}],staticClass:"form-control",attrs:{disabled:!e.state.canEdit},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.schedule,"timeUnit",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Hari"}},[e._v("Hari")]),a("option",{attrs:{value:"Minggu"}},[e._v("Minggu")]),a("option",{attrs:{value:"Bulan"}},[e._v("Bulan")]),a("option",{attrs:{value:"Tahun"}},[e._v("Tahun")])])])]):e._e(),e.state.schedule?a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:e.addSchedule}},[e._v("Simpan")])]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(t){e.state.schedule=!1}}},[e._v("Batal")])])]):e._e()],2)])])]),a("div",{staticClass:"modal-footer"},[null!=e.model.id?a("router-link",{staticClass:"btn btn-primary",attrs:{to:"permit/"+e.model.id+"/reminder"}},[e._v("Pengingat Izin")]):e._e(),e.state.canEdit&&null!=e.model.id?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.state.canEdit=!1}}},[e._v("Batal")]):a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Batal")]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.state.canEdit,expression:"state.canEdit"}],staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.onSave}},[e._v("Simpan")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.state.canEdit,expression:"!state.canEdit"}],staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){e.state.canEdit=!0}}},[e._v("Edit")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.state.canEdit,expression:"!state.canEdit"}],staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.onDelete}},[e._v("Hapus")])],1)])])])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Detail Izin")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],f={name:"PermitForm",props:["model","state","instances","validPeriod","documents","categories","documentTypes","statuses","users","departments","documentHardcopies","reportSchedules","onSave","documentPic","documentDic","hardcopyLocations","addPIC","addHardcopy","addDept","addSchedule","selectedUser","schedule","selectedDepartment","selectedHardcopy","removeHardcopy","removeDept","removeSchedule","removePIC","countValidDate","codeNames","getDocumentPermitName","lastCode","permitNames","subInstances","checkDuplicate","onDelete"]},h=f,b=(s("1bb0"),s("2877")),g=Object(b["a"])(h,p,v,!1,null,null,null),C=g.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"modalFilter",tabindex:"-1",role:"dialog","aria-labelledby":"modalStatus","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nama Kode")]),a("v-select",{staticClass:"form-control",attrs:{options:e.codeNames,reduce:function(e){return e.value}},on:{input:e.getDocumentPermitName},model:{value:e.filter.codeId,callback:function(t){e.$set(e.filter,"codeId",t)},expression:"filter.codeId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nama Izin")]),a("v-select",{staticClass:"form-control",attrs:{options:e.permitNames,reduce:function(e){return e.value},readonly:!e.state.codeSelected},model:{value:e.filter.permitId,callback:function(t){e.$set(e.filter,"permitId",t)},expression:"filter.permitId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nomor Kode")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.documentCode,expression:"filter.documentCode"}],class:"form-control "+(null!=e.filter.documentCode&&0==e.state.codeAvailable?"is-invalid":""),attrs:{type:"text",readonly:!e.state.codeSelected},domProps:{value:e.filter.documentCode},on:{input:function(t){t.target.composing||e.$set(e.filter,"documentCode",t.target.value)}}}),null!=e.filter.documentCode&&0==e.state.codeAvailable?a("p",{staticClass:"text-danger"},[e._v("Kode sudah pernah dipakai")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Nomor Persetujuan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.approvalNumber,expression:"filter.approvalNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.filter.approvalNumber},on:{input:function(t){t.target.composing||e.$set(e.filter,"approvalNumber",t.target.value)}}})])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Deskripsi")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.filter.description,expression:"filter.description"}],staticClass:"form-control",domProps:{value:e.filter.description},on:{input:function(t){t.target.composing||e.$set(e.filter,"description",t.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Masa Berlaku")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validPeriod.time,expression:"validPeriod.time"}],staticClass:"form-control",attrs:{type:"number",step:"1"},domProps:{value:e.validPeriod.time},on:{change:function(t){return e.countValidDate("validPeriod")},input:function(t){t.target.composing||e.$set(e.validPeriod,"time",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.validPeriod.timeUnit,expression:"validPeriod.timeUnit"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.validPeriod,"timeUnit",t.target.multiple?a:a[0])},function(t){return e.countValidDate("validPeriod")}]}},[a("option",{attrs:{value:"Hari"}},[e._v("Hari")]),a("option",{attrs:{value:"Bulan"}},[e._v("Bulan")]),a("option",{attrs:{value:"Tahun"}},[e._v("Tahun")])])])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Referensi Kode Izin")]),a("v-select",{staticClass:"form-control",attrs:{options:e.documents,reduce:function(e){return e.value}},model:{value:e.filter.referenceDocumentId,callback:function(t){e.$set(e.filter,"referenceDocumentId",t)},expression:"filter.referenceDocumentId"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Instansi")]),a("v-select",{staticClass:"form-control",attrs:{options:e.instances,reduce:function(e){return e.value}},model:{value:e.filter.issuerInstanceId,callback:function(t){e.$set(e.filter,"issuerInstanceId",t)},expression:"filter.issuerInstanceId"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Sub Instansi")]),a("v-select",{staticClass:"form-control",attrs:{options:e.subInstances,reduce:function(e){return e.value}},model:{value:e.filter.approverInstanceId,callback:function(t){e.$set(e.filter,"approverInstanceId",t)},expression:"filter.approverInstanceId"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Pembaharuan Kode Izin")]),a("v-select",{staticClass:"form-control",attrs:{options:e.documents,reduce:function(e){return e.value}},model:{value:e.filter.updatePermitCodeId,callback:function(t){e.$set(e.filter,"updatePermitCodeId",t)},expression:"filter.updatePermitCodeId"}})],1)]),e._m(1),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.startIssuedDate,expression:"filter.startIssuedDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filter.startIssuedDate},on:{input:function(t){t.target.composing||e.$set(e.filter,"startIssuedDate",t.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.endIssuedDate,expression:"filter.endIssuedDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filter.endIssuedDate},on:{input:function(t){t.target.composing||e.$set(e.filter,"endIssuedDate",t.target.value)}}})]),e._m(2),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.startValidDate,expression:"filter.startValidDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filter.startValidDate},on:{input:function(t){t.target.composing||e.$set(e.filter,"startValidDate",t.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.endValidDate,expression:"filter.endValidDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filter.endValidDate},on:{input:function(t){t.target.composing||e.$set(e.filter,"endValidDate",t.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Batal")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.filterData}},[e._v("Filter")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.exportData}},[e._v("Export")])])])])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Filter Izin")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("label",[e._v("Tanggal Dikeluarkan")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 mt-3"},[a("label",[e._v("Tanggal Berakhir")])])}],_=(s("4de4"),s("bc3a")),w=s.n(_),y=s("21a6"),P={name:"PermitFilter",mixins:[r["a"]],data:function(){return{filter:{approvalNumber:null,approverInstanceId:null,codeId:null,description:null,documentCode:null,issuedDate:null,issuerInstanceId:null,referenceDocumentId:null,updatePermitCodeId:null,validDate:null,startIssuedDate:null,endIssuedDate:null,startValidDate:null,endValidDate:null},validPeriod:{time:null,timeUnit:null}}},props:["documents","codeNames","getDocumentPermitName","permitNames","state","subInstances","instances","getDocuments"],methods:{filterData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.filter,e.validPeriod.time&&e.validPeriod.timeUnit&&(a.validPeriod=e.validPeriod.time+" "+e.validPeriod.timeUnit),t.next=4,e.getDocuments(a);case 4:$("#modalFilter").modal("hide");case 5:case"end":return t.stop()}}),t)})))()},countValidDate:function(){},exportData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showLoading(),t.prev=1,s=e.filter,e.validPeriod.time&&e.validPeriod.timeUnit&&(s.validPeriod=e.validPeriod.time+" "+e.validPeriod.timeUnit),t.next=6,w.a.post("https://8769-36-68-12-53.ngrok.io/generate_excel",s,{responseType:"blob",headers:{Authorization:"Bearer "+(null===(a=e.$store.state.auth.user)||void 0===a?void 0:a.token)}});case 6:i=t.sent,e.hideLoading(),Object(y["saveAs"])(new Blob([i.data]),"export.xlsx"),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](1),e.hideLoading(),e.showNotif("Gagal mengexport data"),401==(null===(n=t.t0.response)||void 0===n?void 0:n.status)&&e.invalidSession();case 16:case"end":return t.stop()}}),t,null,[[1,11]])})))()},invalidSession:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return alert("Sesi sudah tidak valid, silahkan login"),t.next=3,e.$store.dispatch("auth/authLogout");case 3:e.$router.replace("/login");case 4:case"end":return t.stop()}}),t)})))()}}},k=P,x=Object(b["a"])(k,D,I,!1,null,null,null),N=x.exports,E=s("d91e"),S={name:"Forestry",mixins:[r["a"],l["a"],d["a"]],components:{PermitForm:C,PermitFilter:N},data:function(){return{filters:null,subInstances:[],permitNames:[],docPermitNames:[],lastCode:null,instances:[],codeNames:[],pics:[],departments:[],statuses:[],hardcopyLocations:[],documentTypes:[],documentReferences:[],categories:[],users:[],datas:[],model:{id:null,number:null,referenceDocumentId:null,tableActionAuthorizationId:null,documentTypeId:null,statusId:null,name:null,description:null,approvalNumber:null,issuedDate:null,validDate:null,isActive:0,hardcopyStorageTime:0,hardcopyStorageTimeUnit:null,issuerInstanceId:null,approverInstanceId:null,categoryId:null,documentCode:null,codeId:null,permitId:null,updatePermitCodeId:null},validPeriod:{time:null,timeUnit:null},documentHardcopies:[],documentPic:[],documentDic:[],reportSchedules:[],state:{schedule:!1,addRef:!1,canEdit:!1,codeSelected:!1,codeAvailable:-1},schedule:{time:0,timeUnit:"Hari"},documents:[],search:{query:null}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.model.tableActionAuthorizationId=1,e.showLoading(),t.next=4,e.getInstance();case 4:return e.instances=t.sent,t.next=7,e.getDepartment();case 7:return e.departments=t.sent,t.next=10,e.getDocumentType();case 10:return e.documentTypes=t.sent,t.next=13,e.getHardcopyLocation();case 13:return e.hardcopyLocations=t.sent,t.next=16,e.getCategory();case 16:return e.categories=t.sent,t.next=19,e.getPersonInCharge();case 19:return e.users=t.sent,t.next=22,e.getCodeName();case 22:return e.codeNames=t.sent,t.next=25,e.getSubInstance();case 25:return e.subInstances=t.sent,t.next=28,e.getDocPermitName();case 28:return e.docPermitNames=t.sent,t.next=31,e.getDocuments(e.filters);case 31:$("#filter").hide(),$(".vs__dropdown-toggle").css("border","none !important"),$("#locationDrops").hasClass("show")||$("#locationDrops").dropdown("toggle"),$("#picDrops").hasClass("show")||$("#picDrops").dropdown("toggle"),$("#departmentDrops").hasClass("show")||$("#departmentDrops").dropdown("toggle");case 36:case"end":return t.stop()}}),t)})))()},methods:{getDocuments:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.length>0&&void 0!==e[0]?e[0]:null,t.filters=s,t.datas=[],t.documents=[],t.showLoading(),a.prev=5,i=null,null!=s){a.next=13;break}return a.next=10,Object(c["b"])();case 10:i=a.sent,a.next=16;break;case 13:return a.next=15,Object(c["f"])(s);case 15:i=a.sent;case 16:n=i.data,n.forEach((function(e,a){var s=e.document;s.labeled_status=s.isActive?"Aktif":"Tidak Aktif",s.labeled_instance=t.selectedStatus(t.instances,s.issuerInstanceId),s.labeled_sub_instance=t.selectedData(t.subInstances,s.approverInstanceId),s.labeled_name=t.selectedData(t.docPermitNames,s.permitId),s.labeled_reference=null,s.labeled_updatePermitCodeId=null;var i=[],n=[],o=[],r=[],d=[];e.documentType.forEach((function(e,t){i.push(e.id)})),e.dic.forEach((function(e,t){n.push(e.documentDic.departmentId)})),e.pic.forEach((function(e,t){o.push(e.userID)})),e.hard_copies.forEach((function(e,t){r.push(e.documentHardcopies.hardcopyLocationId)})),e.reportSchedules.forEach((function(e,t){d.push(e)})),s.documentType=i,s.documentDic=n,s.documentPic=o,s.documentHardcopies=r,s.reportSchedules=d,t.documents.push({label:s.number,value:s.id}),t.datas.push(s)})),t.datas.forEach((function(e,a){null!=e.referenceDocumentId&&t.documents.forEach((function(t,a){t.value==e.referenceDocumentId&&(e.labeled_reference=t.label)})),null!=e.updatePermitCodeId&&t.documents.forEach((function(t,a){t.value==e.updatePermitCodeId&&(e.labeled_updatePermitCodeId=t.label)}))})),t.hideLoading(),a.next=28;break;case 22:a.prev=22,a.t0=a["catch"](5),t.hideLoading(),t.showAlert("Gagal Mendapatkan Data","error"),console.log(a.t0),401==(null===(o=a.t0.response)||void 0===o?void 0:o.status)&&t.invalidSession();case 28:case"end":return a.stop()}}),a,null,[[5,22]])})))()},showAdd:function(){this.state.canEdit=!0,this.model={id:null,number:null,referenceDocumentId:null,tableActionAuthorizationId:1,documentTypeId:null,statusId:null,name:null,description:null,approvalNumber:null,issuedDate:null,validDate:null,isActive:0,hardcopyStorageTime:0,hardcopyStorageTimeUnit:null,issuerInstanceId:null,approverInstanceId:null,categoryId:null,updatePermitCodeId:null},this.documentHardcopies=[],this.documentPic=[],this.documentDic=[],$("#modalAdd").modal("show")},onSave:function(){var t=this;if(this.formValidate()){this.showLoading();var a=this.model;if(!this.validPeriod.time||!this.validPeriod.timeUnit)return this.hideLoading(),void this.showNotif("Masa Berlaku Tidak ValidPeriod");a.ValidPeriod=this.validPeriod.time+" "+this.validPeriod.timeUnit;var s=[],i=[],n=[];if(this.documentHardcopies.forEach((function(e,t){s.push({documentId:null,hardcopyLocationId:e})})),this.documentPic.forEach((function(e,t){i.push({documentId:null,userID:e})})),this.documentDic.forEach((function(e,t){n.push({documentId:null,departmentId:e})})),null==this.model.id){var o=Object(c["a"])({document:a,documentHardcopies:s,documentPic:i,documentDic:n,reportSchedules:this.reportSchedules});o.then((function(e){t.hideLoading(),$("#modalAdd").modal("hide"),t.showAlert("Izin Berhasil Disimpan"),t.getDocuments(t.filters)})).catch((function(a){var s;t.hideLoading(),console.log(a),t.showNotif("Terjadi Kesalahan"),401==(null===(s=e.response)||void 0===s?void 0:s.status)&&t.invalidSession()}))}else{var r=Object(c["h"])(this.model.id,{document:a,documentHardcopies:s,documentPic:i,documentDic:n,reportSchedules:this.reportSchedules});r.then((function(e){t.hideLoading(),$("#modalAdd").modal("hide"),t.showAlert("Izin Berhasil Disimpan"),t.getDocuments(t.filters)})).catch((function(a){var s;t.hideLoading(),console.log(a),t.showNotif("Terjadi Kesalahan"),401==(null===(s=e.response)||void 0===s?void 0:s.status)&&t.invalidSession()}))}}else this.showNotif("Data Izin Belum Lengkap")},formValidate:function(){var e=this,t=!0;return["codeId","permitId","documentCode","approvalNumber","description","issuedDate","validDate","issuerInstanceId","approverInstanceId"].forEach((function(a){""!=e.model[a]&&null!=e.model[a]||(t=!1)})),0!=this.documentPic.length&&0!=this.documentDic.length&&0!=this.documentHardcopies.length||(t=!1),t},showEdit:function(e){var t,a,s,i,n=e.validPeriod?e.validPeriod.split(" "):[];this.getDocumentPermitName(e.codeId),this.model={id:e.id,number:e.number,referenceDocumentId:e.referenceDocumentId,tableActionAuthorizationId:e.tableActionAuthorizationId,documentTypeId:e.documentTypeId,statusId:e.statusId,name:e.name,description:e.description,approvalNumber:e.approvalNumber,issuedDate:null===(t=e.issuedDate)||void 0===t||null===(a=t.split("T"))||void 0===a?void 0:a[0],validDate:null===(s=e.validDate)||void 0===s||null===(i=s.split("T"))||void 0===i?void 0:i[0],isActive:e.isActive,hardcopyStorageTime:e.hardcopyStorageTime,hardcopyStorageTimeUnit:e.hardcopyStorageTimeUnit,issuerInstanceId:e.issuerInstanceId,approverInstanceId:e.approverInstanceId,categoryId:e.categoryId,documentCode:e.documentCode,codeId:e.codeId,permitId:e.permitId,updatePermitCodeId:e.updatePermitCodeId},this.documentHardcopies=e.documentHardcopies,this.documentPic=e.documentPic,this.documentDic=e.documentDic,this.reportSchedules=e.reportSchedules,this.validPeriod={time:n.length>0?n[0]:"0",timeUnit:n.length>0?n[1]:"Hari"},this.state.canEdit=!1,$("#modalAdd").modal("show")},addPIC:function(e){this.documentPic.includes(e)?this.showNotif("PIC Sudah Ditambahkan"):this.documentPic.push(e)},removePIC:function(e){this.documentPic.splice(e,1)},addDept:function(e){this.documentDic.includes(e)?this.showNotif("Departemen Sudah Ditambahkan"):this.documentDic.push(e)},removeDept:function(e){this.documentDic.splice(e,1)},addHardcopy:function(e){this.documentHardcopies.includes(e)?this.showNotif("Hardcopy Sudah Ditambahkan"):this.documentHardcopies.push(e)},removeHardcopy:function(e){this.documentHardcopies.splice(e,1)},showReport:function(){$("#modalReport").modal("show")},addSchedule:function(){""==this.schedule.time||""==this.schedule.timeUnit?this.showNotif("Waktu Harus Diisi"):(this.reportSchedules.push({id:null,documentId:null,time:this.schedule.time,timeUnit:this.schedule.timeUnit}),this.state.schedule=!1)},removeSchedule:function(e){this.reportSchedules.splice(e,1)},countValidDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"validDate",a=this.model.issuedDate,s=this.model.validDate,i=this.validPeriod;try{if("validDate"==t)this.validPeriod=this.getDateDiv(a,s);else if("validPeriod"==t)switch(i.timeUnit){case"Hari":this.model.validDate=m()(m()(a).add(i.time,"d")).format("YYYY-MM-DD");break;case"Bulan":this.model.validDate=m()(m()(a).add(i.time,"M")).format("YYYY-MM-DD");break;case"Tahun":this.model.validDate=m()(m()(a).add(i.time,"y")).format("YYYY-MM-DD");break}}catch(e){console.log(e)}},getDateDiv:function(t,a){try{if(!t||!a)return{time:null,timeUnit:null};var s=m()(t),i=m()(a),n=i.diff(s,"years"),o=i.diff(s,"months"),r=i.diff(s,"days");return o%12!=0?{time:o,timeUnit:"Bulan"}:0==n?0==o?0==r?{time:0,timeUnit:"Hari"}:{time:r,timeUnit:"Hari"}:{time:o,timeUnit:"Bulan"}:{time:n,timeUnit:"Tahun"}}catch(e){return{time:0,timeUnit:"Hari"}}},getDocumentPermitName:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.permitNames=[],t.state.codeSelected=!1,a.prev=2,a.next=5,Object(E["c"])(e);case 5:s=a.sent,t.getLastCode(e),i=s.data,i.forEach((function(e,a){t.permitNames.push({label:e.name,value:e.id})})),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),t.getLastCode(e),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},getLastCode:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.lastCode=null,a.prev=1,a.next=4,Object(c["g"])(e);case 4:s=a.sent,t.state.codeSelected=!0,i=s.data,null!=i&&i.length>0&&(t.lastCode=i[0].documentCode),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),t.state.codeSelected=!0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},checkDuplicate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state.codeAvailable=-1,t.prev=1,t.next=4,Object(c["d"])(e.model.codeId,e.model.documentCode);case 4:a=t.sent,s=a.data,s?(e.state.codeAvailable=0,e.showAlert("Nomor Kode Tidak Tersedia","error")):e.state.codeAvailable=1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.state.codeAvailable=1,console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},onDelete:function(){var e=this;this.$swal({title:"Hapus Data",text:"Yakin ingin menghapus data ?",type:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){if(t.value){e.showLoading();var a=Object(c["e"])(e.model.id);a.then((function(t){e.hideLoading(),$("#modalAdd").modal("hide"),e.$toast.open({message:"Dokumen Berhasil Dihapus !",type:"info",position:"top-right"}),e.getDocuments(e.filters)})).catch((function(t){e.hideLoading(),e.showNotif("Terjadi Kesalahan"),console.log(t)}))}}))},showFilter:function(){$("#modalFilter").modal("show")},invalidSession:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return alert("Sesi sudah tidak valid, silahkan login"),t.next=3,e.$store.dispatch("auth/authLogout");case 3:e.$router.replace("/login");case 4:case"end":return t.stop()}}),t)})))()}}},T=S,A=Object(b["a"])(T,i,n,!1,null,null,null);a["default"]=A.exports},"5b63":function(e,t,a){}}]);
//# sourceMappingURL=chunk-b06b7cd4.7c51ee6b.js.map